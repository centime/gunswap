---
layout: default
title: syntax
---

<h3>Advanced Mode Syntax</h3>

<pre>
<code>siteswap
beatDuration dwellRatio
propType color radius C
dwellPath
matchVelocity dwellCatchScale dwellTossScale emptyTossScale emptyCatchScale armAngle
jugglerPositions
surface1
surface2
...
surfaceN</code>
</pre>

<b>Pattern</b>

<p>
<code>siteswap</code> - siteswap string. Supports standard vanilla like <code>531</code>, multiplex like <code>33[33]</code>, and synchronous like <code>(4,6x)(6x,4)</code>. Passing patterns wrap each beat in &lt;&gt; with each juggler pipe delimited, so <code>&lt;3|3&gt;</code> is two jugglers both running 3 ball cascade. Use P to indicate a pass, so<code>&lt;3P|3P&gt;</code> is a pass on every throw. For multiple jugglers include the index of the juggler who is the target of the pass (starting at 1), so <code>&lt;3P3|3|3P1&gt;</code> is two jugglers passing while a third runs 3 ball cascade. Modify the number of spins with S, so <code>3S03S2</code> is alternating flats and triples. Modify the dwell ratio with D, so <code>3D{.2}3D{.8}</code> is a 3 ball pattern where one hand is rushing the throw (good for animating half shower patterns). Modify the catch and throw by using C and T, respectively, so <code>3C{P}T{C}</code> is penguin (P) catches followed by claw (C) throws. Bounce using B and optionally specify the bounce type (defaults to lift). So <code>5B</code> is a 5 ball lift bounce and <code>5B{HL}</code> is a 5 ball hyperlift bounce (ie. the ball is traveling down when it is caught). Options are L for lift, HL for hyperlift, F for force, and HF for hyperforce.
</p>

<b>Timing</b>

<p>
<code>beatDuration</code> - beat duration in seconds. Higher beat duration means higher throws.
</p>

<p>
<code>dwellRatio</code> - dwell ratio, must be between 0 and 1. Higher dwell ratio means the prop stays in the hand longer, and means shorter throws.
</p>

<b>Props</b>

<p>
<code>propType</code> - prop type. Options are "ball", "club" and "ring".
</p>

<p>
<code>color</code> - prop color.
</p>

<p>
<code>radius</code> - prop radius in m (only applies to balls).
</p>

<p>
<code>C</code> - prop coefficient of restitution - basically how bouncy the prop is. Must be between 0 and 1, where 1 is 100% elastic bounces.
</p>

<b>Hand Movement</b>

<p>
<code>dwellPath</code> - customizable dwell path. Positions in the dwell path are wrapped in parentheses with the y and z components optional. Positions are in cm relative to the center of the juggler with the positive direction moving to the outside. The first position is the catch position, the last is the throw, and all points in between are passed through using a bezier cubic spline. Multiple paths are delimited by periods. So <code>(30)(10).(10)(30)</code> is a classic half shower hand movement where the first dwell path (<code>(30)(10)</code>) indicates the prop is caught 30 cm outside the center and then thrown 10 cm outside the center (ie. an inside throw). The second path (<code>(10)(30)</code>) indicates an outside throw.
</p>

<p>
<code>matchVelocity</code> - 0 or 1 indicating that the velocity of the hand should match the velocity of the prop on both catching and throwing.
</p>

<p>
<code>dwellCatchScale dwellTossScale emptyTossScale emptyCatchScale</code> - value (should be low) that is used to set control points for hand movement through the dwell path. Higher values indicate a more exagerated hand movement. So a high <code>dwellCatchScale</code> would show the hand moving a lot immediately after catching the prop, as if the prop was very heavy. A high <code>emptyTossScale</code> would show the hand moving a lot immediately after throwing, as if the throw had a lot of follow through.
</p>

<p>
<code>armAngle</code> - the angle, in radians, the arm will make with the shoulder. 0 means the elbow is pinned to the side. The higher the angle the more the elbow lifts out.
</p>

<b>Juggler Positions</b>

<p><code>jugglerPositions</code> - a space delimited list of <code>x z angle</code> values indicating each juggler's position and rotation. So <code>0 0 0 0 -2 3.14</code> would be a juggler at an (x,z) position of (0,0) and rotation of 0, and another juggler at (0,-2) with rotation 3.14. In this scenario the two jugglers are facing each other (0 rotation means facing in the -z direction).</p>

<b>Surfaces</b>

<p>The remaining lines are for unlimited surface definitions. Each surface is defined like <code>p.x p.y p.z n.x n.y n.z hw</code> where <code>p</code> is the surface position, <code>n</code> is the surface normal, and <code>hw</code> is the "half-width" (think of it like the radius) of the surface. So a surface of <code>0 0 0 0 1 0 1</code> is a 2-by-2 surface beneath the juggler's feat.